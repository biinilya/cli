<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# utils

```go
import "github.com/forestvpn/cli/utils"
```

## Index

- [func ExcludeDisallowedIps(allowed []string, disallowed []string) ([]string, error)](<#func-excludedisallowedips>)
- [func GetActiveSshClientIps() ([]string, error)](<#func-getactivesshclientips>)
- [func GetExistingRoutes() ([]string, error)](<#func-getexistingroutes>)
- [func getHostIP() (net.IP, error)](<#func-gethostip>)
- [func ip2Net(ip string) string](<#func-ip2net>)


## func [ExcludeDisallowedIps](<https://github.com/forestvpn/cli/blob/main/src/utils/main.go#L73>)

```go
func ExcludeDisallowedIps(allowed []string, disallowed []string) ([]string, error)
```

ExcludeDisallowedIps is a function that expects two slices of a network values, e.g. \[127.0.0.0/8,\], where disallowed is a slice of networks to be excluded from the allowed slice. Returns a new slice of networks formed out of the allowed slice without networks of disallowed slice.

## func [GetActiveSshClientIps](<https://github.com/forestvpn/cli/blob/main/src/utils/main.go#L158>)

```go
func GetActiveSshClientIps() ([]string, error)
```

GetActiveSshClientIps is a function that calls the "who" shell command to get active ssh sessions. Then it extracts all the IP addresses from the command output and converts them into networks using ip2Net for a compability with Wiregaurd configuration format. Returns a slice of networks representing the public networks of active ssh clients.

## func [GetExistingRoutes](<https://github.com/forestvpn/cli/blob/main/src/utils/main.go#L23>)

```go
func GetExistingRoutes() ([]string, error)
```

GetExistingRoutes is a function that calls a netstat shell command to get system routing table. Then it extracts all the IP addresses from the shell command's output. Each of an IP addresses is converted into related network using ip2Net in order to be compitable with Wireguard configuration format. Returns a slice of a networks \(as a strings\) representing system routing table.

## func [getHostIP](<https://github.com/forestvpn/cli/blob/main/src/utils/main.go#L67>)

```go
func getHostIP() (net.IP, error)
```

getHostIP returns the host's public IP address.

See https://github.com/glendc/go-external-ip for more information.

## func [ip2Net](<https://github.com/forestvpn/cli/blob/main/src/utils/main.go#L15>)

```go
func ip2Net(ip string) string
```

ip2Net is a function for converting an IP address value, e.g. 127.0.0.1, into a network with mask of 24 bits, e.g. 127.0.0.0/24.



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
